<!DOCTYPE html>
<html lang="en"><script>
    (function() {
    class RuffleMimeType {
        constructor(a, b, c) {
            this.type = a, this.description = b, this.suffixes = c
        }
    }
    class RuffleMimeTypeArray {
        constructor(a) {
            this.__mimetypes = [], this.__named_mimetypes = {};
            for (let b of a) this.install(b)
        }
        install(a) {
            let b = this.__mimetypes.length;
            this.__mimetypes.push(a), this.__named_mimetypes[a.type] = a, this[a.type] = a, this[b] = a
        }
        item(a) {
            return this.__mimetypes[a]
        }
        namedItem(a) {
            return this.__named_mimetypes[a]
        }
        get length() {
            return this.__mimetypes.length
        }
    }
    class RufflePlugin extends RuffleMimeTypeArray {
        constructor(a, b, c, d) {
            super(d), this.name = a, this.description = b, this.filename = c
        }
        install(a) {
            a.enabledPlugin || (a.enabledPlugin = this), super.install(a)
        }
    }
    class RufflePluginArray {
        constructor(a) {
            this.__plugins = [], this.__named_plugins = {};
            for (let b of a) this.install(b)
        }
        install(a) {
            let b = this.__plugins.length;
            this.__plugins.push(a), this.__named_plugins[a.name] = a, this[a.name] = a, this[b] = a
        }
        item(a) {
            return this.__plugins[a]
        }
        namedItem(a) {
            return this.__named_plugins[a]
        }
        get length() {
            return this.__plugins.length
        }
    }
    const FLASH_PLUGIN = new RufflePlugin("Shockwave Flash", "Shockwave Flash 32.0 r0", "ruffle.js", [new RuffleMimeType("application/futuresplash", "Shockwave Flash", "spl"), new RuffleMimeType("application/x-shockwave-flash", "Shockwave Flash", "swf"), new RuffleMimeType("application/x-shockwave-flash2-preview", "Shockwave Flash", "swf"), new RuffleMimeType("application/vnd.adobe.flash-movie", "Shockwave Flash", "swf")]);

    function install_plugin(a) {
        navigator.plugins.install || Object.defineProperty(navigator, "plugins", {
            value: new RufflePluginArray(navigator.plugins),
            writable: !1
        }), navigator.plugins.install(a), 0 < a.length && !navigator.mimeTypes.install && Object.defineProperty(navigator, "mimeTypes", {
            value: new RuffleMimeTypeArray(navigator.mimeTypes),
            writable: !1
        });
        for (var b = 0; b < a.length; b += 1) navigator.mimeTypes.install(a[b])
    }
    install_plugin(FLASH_PLUGIN);
})();
</script><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M55339A | All Modules - go  deploy</title>

        <link rel="stylesheet" href="M55339A%20All%20Modules%20-%20go%20deploy_files/godeployMain.min.css">
    <link rel="stylesheet" href="M55339A%20All%20Modules%20-%20go%20deploy_files/lms.min.css">
    <link rel="stylesheet" href="M55339A%20All%20Modules%20-%20go%20deploy_files/all.min.css">

    
    <link rel="stylesheet" href="M55339A%20All%20Modules%20-%20go%20deploy_files/labGuidePopout.min.css">

    <style type="text/css">
        #skipToMainContentLink {
            position: fixed;
            left: -10000px;
            top: 0;
            border: 1px solid #000;
            background-color: #ccc;
            text-align: center;
            align-content: center;
            z-index: 10000;
            padding: 20px;
        }
        #skipToMainContentLink:focus {
            display: block;
            left: 0;
            width: 100%;
        }
    </style>
</head>
<body>
    <a id="skipToMainContentLink" href="#mainContentAnchor" tabindex="0">Skip to main content</a>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top py-0 bg-brand" id="main-navbar" role="banner">
        <span class="h1 navbar-brand brandname my-1 ">go  deploy</span>
        <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#header-nav-menu" aria-controls="header-nav-menu" aria-expanded="false" aria-label="Toggle navigation">
            <i class="far fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse header-nav ml-auto" id="header-nav-menu">
    <div class="d-flex justify-content-end w-100">
<form action="/Account/LogOff?Length=6" class="navbar-right" id="logoutForm" method="post"><input name="__RequestVerificationToken" type="hidden" value="CfDJ8Eq5dKycSwpCmxe4r506WtQEmiKj0buo5jeJS2YbjyQuqP5Oc_94f1gndAa43h5dHGloZXsKGjjEhB9_rCNSC-dqOu1g6ynn2dAWlWnmfasVXw7mMx9Sh0kpdX2Xrwbs4Y2SnKmtRteL5zHI7in3NdOx8t7knSdElXHf04IcgKEg93faOhcH-mdRk9x_M63W4g"></form>        <ul class="navbar-nav ml-auto" role="navigation">
            <li class="nav-item">
                <a class="nav-link popover-help" style="font-size: 1.4em;" href="https://lms.godeploy.it/RedirectToHome" aria-label="Home" data-content="Home" data-placement="bottom" data-original-title="" title="">
                    <i class="fad fa-home"></i>
                </a>
            </li>
                <li class="nav-item">
                    <a class="nav-link popover-help" style="font-size: 1.4em;" href="https://lms.godeploy.it/Instructor" aria-label="Instructor Home" data-content="Instructor Home" data-placement="bottom" data-original-title="" title="">
                        <i class="fad fa-chalkboard-teacher"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link popover-help" style="font-size: 1.4em;" href="https://lms.godeploy.it/Courses/DelegateHome" aria-label="Student Home" data-content="Student Home" data-placement="bottom" data-original-title="" title="">
                        <i class="fad fa-user-graduate"></i>
                    </a>
                </li>

            <li class="nav-item dropdown">
                <button class="nav-link bg-transparent border-0 popover-help" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="font-size: 1.4em;" aria-label="My Profile Options" data-content="My Profile Options" data-placement="bottom" data-original-title="" title="">
                    <i class="fad fa-user-circle"></i>
                </button>
                <div class="dropdown-menu dropdown-menu-right shadow" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="https://lms.godeploy.it/Manage">niket.bovlekar@outlook.com</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="javascript:document.getElementById('logoutForm').submit()">Log off</a>
                </div>
            </li>

            <li class="nav-item">
                <a href="http://help.godeploy.com/" target="_blank" class="nav-link popover-help" style="font-size: 1.4em;" data-content="Get Help" data-placement="bottom" data-original-title="" title=""><i class="fad fa-question-circle" aria-label="Get Help"></i></a>
            </li>
        </ul>
    </div>
</div>

    </nav>

    <a id="mainContentAnchor"></a>
    
<div style="max-height: calc(100vh - 46px);min-height: calc(100vh - 46px);" class="d-flex flex-column">
    <nav class="navbar navbar-expand navbar-light bg-light flex-grow-0">
        <div class="collapse navbar-collapse">
            <div style="max-width:200px;min-width:200px;">

<div class="btn-group btn-group-sm w-100 popover-help" id="labGuidePageSelector" data-toggle="popover" data-content="Select Lab Guide page" style="" data-original-title="" title="">
    <button type="button" class="btn btn-outline-dark dropdown-toggle btn-block text-left" data-boundary="window" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" role="button">Module 8: Using the Network</button>
    <div class="dropdown-menu dropdown-menu-left" role="menu" tabindex="-1">
            <a href="https://lms.godeploy.it/Labs/LabGuidePageMarkup/5fdbb157-0301-ee11-9561-00155d800002?pageId=39e12d85-47a9-ed11-9561-00155d800002" role="menuitemradio" class="dropdown-item lab-guide-page-link" data-page-id="39e12d85-47a9-ed11-9561-00155d800002" aria-checked="false">Module 1: C# Syntax</a>
            <a href="https://lms.godeploy.it/Labs/LabGuidePageMarkup/5fdbb157-0301-ee11-9561-00155d800002?pageId=f0f17f9f-47a9-ed11-9561-00155d800002" role="menuitemradio" class="dropdown-item lab-guide-page-link" data-page-id="f0f17f9f-47a9-ed11-9561-00155d800002" aria-checked="false">Module 2: C# Language Concepts</a>
            <a href="https://lms.godeploy.it/Labs/LabGuidePageMarkup/5fdbb157-0301-ee11-9561-00155d800002?pageId=c67d183e-48a9-ed11-9561-00155d800002" role="menuitemradio" class="dropdown-item lab-guide-page-link" data-page-id="c67d183e-48a9-ed11-9561-00155d800002" aria-checked="false">Module 3: C# Structures, Collections and Events</a>
            <a href="https://lms.godeploy.it/Labs/LabGuidePageMarkup/5fdbb157-0301-ee11-9561-00155d800002?pageId=05603a44-48a9-ed11-9561-00155d800002" role="menuitemradio" class="dropdown-item lab-guide-page-link" data-page-id="05603a44-48a9-ed11-9561-00155d800002" aria-checked="false">Module 4: C# Classes</a>
            <a href="https://lms.godeploy.it/Labs/LabGuidePageMarkup/5fdbb157-0301-ee11-9561-00155d800002?pageId=f9a17851-48a9-ed11-9561-00155d800002" role="menuitemradio" class="dropdown-item lab-guide-page-link" data-page-id="f9a17851-48a9-ed11-9561-00155d800002" aria-checked="false">Module 5: C# Inheritance</a>
            <a href="https://lms.godeploy.it/Labs/LabGuidePageMarkup/5fdbb157-0301-ee11-9561-00155d800002?pageId=10c6f457-48a9-ed11-9561-00155d800002" role="menuitemradio" class="dropdown-item lab-guide-page-link" data-page-id="10c6f457-48a9-ed11-9561-00155d800002" aria-checked="false">Module 6: Input and Output</a>
            <a href="https://lms.godeploy.it/Labs/LabGuidePageMarkup/5fdbb157-0301-ee11-9561-00155d800002?pageId=b570405f-48a9-ed11-9561-00155d800002" role="menuitemradio" class="dropdown-item lab-guide-page-link" data-page-id="b570405f-48a9-ed11-9561-00155d800002" aria-checked="false">Module 7: Database Access</a>
            <a href="https://lms.godeploy.it/Labs/LabGuidePageMarkup/5fdbb157-0301-ee11-9561-00155d800002?pageId=fde83a65-48a9-ed11-9561-00155d800002" role="menuitemradio" class="dropdown-item lab-guide-page-link active" data-page-id="fde83a65-48a9-ed11-9561-00155d800002" aria-checked="true">Module 8: Using the Network</a>
            <a href="https://lms.godeploy.it/Labs/LabGuidePageMarkup/5fdbb157-0301-ee11-9561-00155d800002?pageId=73e22e6c-48a9-ed11-9561-00155d800002" role="menuitemradio" class="dropdown-item lab-guide-page-link" data-page-id="73e22e6c-48a9-ed11-9561-00155d800002" aria-checked="false">Module 9: Graphical User Interfaces</a>
            <a href="https://lms.godeploy.it/Labs/LabGuidePageMarkup/5fdbb157-0301-ee11-9561-00155d800002?pageId=1c628678-48a9-ed11-9561-00155d800002" role="menuitemradio" class="dropdown-item lab-guide-page-link" data-page-id="1c628678-48a9-ed11-9561-00155d800002" aria-checked="false">Module 10: Application Performance</a>
            <a href="https://lms.godeploy.it/Labs/LabGuidePageMarkup/5fdbb157-0301-ee11-9561-00155d800002?pageId=a21cd885-48a9-ed11-9561-00155d800002" role="menuitemradio" class="dropdown-item lab-guide-page-link" data-page-id="a21cd885-48a9-ed11-9561-00155d800002" aria-checked="false">Module 11: C# Interop</a>
            <a href="https://lms.godeploy.it/Labs/LabGuidePageMarkup/5fdbb157-0301-ee11-9561-00155d800002?pageId=fbd61f8d-48a9-ed11-9561-00155d800002" role="menuitemradio" class="dropdown-item lab-guide-page-link" data-page-id="fbd61f8d-48a9-ed11-9561-00155d800002" aria-checked="false">Module 12: Designing for Reuse</a>
            <a href="https://lms.godeploy.it/Labs/LabGuidePageMarkup/5fdbb157-0301-ee11-9561-00155d800002?pageId=3edfb493-48a9-ed11-9561-00155d800002" role="menuitemradio" class="dropdown-item lab-guide-page-link" data-page-id="3edfb493-48a9-ed11-9561-00155d800002" aria-checked="false">Module 13: Encryption and Decryption</a>
    </div>
</div>
            </div>
            <div class="btn-group btn-group-sm ml-2" id="labGuideScreenshotBtn" data-toggle="popover" data-content="Select Lab Guide page">
                <button type="button" class="btn btn-outline-dark dropdown-toggle popover-help" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" role="button" data-content="Lab guide screenshot visibility options" data-original-title="" title="">
                    Screenshots
                </button>
                <div class="dropdown-menu shadow" role="menu" tabindex="-1">
                    <a href="#" class="dropdown-item lab-screenshot-option" role="menuitemradio" aria-checked="false" data-show="hide">Hide Screenshots</a>
                    <a href="#" class="dropdown-item lab-screenshot-option" role="menuitemradio" aria-checked="false" data-show="thumb">Show Screenshot Thumbnails</a>
                    <a href="#" class="dropdown-item lab-screenshot-option active" role="menuitemradio" aria-checked="true" data-show="full">Show Full Size Screenshots</a>
                </div>
            </div>
        </div>
    </nav>
    <main class="container-fluid lab-markdown reduced-headers pt-3 flex-grow-1" style="overflow-y: auto;overflow-x: hidden;" id="lab-guide-area" data-mei-id="5fdbb157-0301-ee11-9561-00155d800002" role="main"><h1>Module 8: Using the Network</h1>
<h2>Lab: Implementing a Web Site that Retrieves Data from Web APIs</h2>
<div class="alert alert-secondary" role="alert">
<p class="has-line-data" data-line-start="5" data-line-end="6"><strong>Scenario</strong></p>
<p class="has-line-data" data-line-start="7" data-line-end="8">You have 
been asked to create a web-based application for the school. To do this 
you need to create a page showing all the school departments, enable 
users to book a meeting with staff of a a particular department, add a 
job vacancies page, and allow submitting an application to a selected 
job.</p>
<p class="has-line-data" data-line-start="9" data-line-end="10">You will
 create a server-side ASP.NET Core Web API application and a client-side
 ASP.NET Core web application. In the client-side application, you will 
call the Web API actions by using the HttpClient class and by using 
jQuery.</p>
</div>
<h3>Exercise 1: Adding Actions and Calling them by using Microsoft Edge</h3>
<div class="alert alert-secondary" role="alert">
<p class="has-line-data" data-line-start="15" data-line-end="16"><strong>Scenario</strong></p>
<p class="has-line-data" data-line-start="17" data-line-end="18">In this
 exercise, you will first add a controller and an action to a Web API 
application. You will then run the application and view the outcome by 
using Microsoft Edge. After that, you will add a controller and an 
action that gets a parameter. You will then run the application and view
 the outcome by using Microsoft Edge. Finally, you will add a Post 
action to the Web API application.</p>
<p class="has-line-data" data-line-start="19" data-line-end="20">The main tasks for this exercise are as follows:</p>
<ul>
<li class="has-line-data" data-line-start="21" data-line-end="22">Add a controller and an action to a Web API application</li>
<li class="has-line-data" data-line-start="22" data-line-end="23">Run the application</li>
<li class="has-line-data" data-line-start="23" data-line-end="24">Add a controller and an action that gets a parameter</li>
<li class="has-line-data" data-line-start="24" data-line-end="25">Run the application</li>
<li class="has-line-data" data-line-start="25" data-line-end="26">Add a Post action to a Web API application</li>
</ul>
</div>
<h4>Task 1: Add a controller and an action to the Schools Web API application</h4>
<ol class="task-list" data-group="1">
<li class="task-list-item" data-line-start="30" data-line-end="35">
<div class="task-step-checkbox" data-foo="62" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="30" data-line-end="31"> Navigate to <strong>E:\Allfiles\Mod08\Labfiles\Starter</strong>, and then double-click <strong>Website.sln</strong>.</p>
<div class="alert alert-warning" role="alert">
<p class="has-line-data" data-line-start="32" data-line-end="33"><strong>Note</strong>: If a <strong>Security Warning for Server</strong> dialog box appears, verify that the <strong>Ask me for every project in this solution</strong> check box is cleared, and then click OK.</p>
</div>
</li>
<li class="task-list-item" data-line-start="35" data-line-end="37">
<div class="task-step-checkbox" data-foo="72" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="35" data-line-end="36"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Server</strong>, right-click <strong>Controllers</strong>, point to <strong>Add</strong>, and then click <strong>Controller...</strong>.</p>
</li>
<li class="task-list-item" data-line-start="37" data-line-end="39">
<div class="task-step-checkbox" data-foo="77" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="37" data-line-end="38"> In the <strong>Add New Scaffolded Item</strong> dialog box, choose <strong>API</strong> from the left-hand navigation, click <strong>API Controller - Empty</strong>, and then click <strong>Add</strong>.</p>
</li>
<li class="task-list-item" data-line-start="39" data-line-end="41">
<div class="task-step-checkbox" data-foo="82" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="39" data-line-end="40"> In the <strong>Add New Item - Server</strong> dialog box, in the <strong>Name:</strong> textbox, type <strong><a href="urn:gd:lg:a:send-vm-keys" class="paste-action-link action-link" title="Paste text into VM" data-str="DepartmentController"><code>DepartmentController</code></a></strong>, and then click <strong>Add</strong>.</p>
</li>
<li class="task-list-item" data-line-start="41" data-line-end="46">
<div class="task-step-checkbox" data-foo="87" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="41" data-line-end="42"> In the <strong>DepartmentController.cs</strong> code window, locate the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="using Microsoft.AspNetCore.Mvc;"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="44" data-line-end="46"><span class="hljs-keyword">using</span> Microsoft.AspNetCore.Mvc;
</code></pre>
</li>
<li class="task-list-item" data-line-start="46" data-line-end="51">
<div class="task-step-checkbox" data-foo="93" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="46" data-line-end="47"> Ensure that the cursor is at the end of the <strong>Microsoft.AspNetCore.Mvc</strong> namespace, press Enter, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="using Website.Models;"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="49" data-line-end="51"><span class="hljs-keyword">using</span> Website.Models;
</code></pre>
</li>
<li class="task-list-item" data-line-start="51" data-line-end="61">
<div class="task-step-checkbox" data-foo="99" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="51" data-line-end="52"> In the <strong>DepartmentController.cs</strong> code window, place the cursor after the second <strong>{</strong> (opening brace) sign, press Enter, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="private SchoolContext _context;

public DepartmentController(SchoolContext context)
{
    _context = context;
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="54" data-line-end="61"><span class="hljs-keyword">private</span> SchoolContext _context;

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DepartmentController</span>(<span class="hljs-params">SchoolContext context</span>)</span>
{
    _context = context;
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="61" data-line-end="74">
<div class="task-step-checkbox" data-foo="105" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="61" data-line-end="62"> Ensure that the cursor is at the end of the <strong>DepartmentController</strong> constructor code block, press Enter, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="[HttpGet]
public ActionResult&lt;List&lt;Department&gt;&gt; Get()
{
    var branches = from r in _context.Departments
                    orderby r.Name
                    select r;
    return branches.ToList();
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="64" data-line-end="73">[<span class="hljs-meta">HttpGet</span>]
<span class="hljs-keyword">public</span> ActionResult&lt;List&lt;Department&gt;&gt; Get()
{
    <span class="hljs-keyword">var</span> branches = <span class="hljs-keyword">from</span> r <span class="hljs-keyword">in</span> _context.Departments
                    <span class="hljs-keyword">orderby</span> r.Name
                    <span class="hljs-keyword">select</span> r;
    <span class="hljs-keyword">return</span> branches.ToList();
}
</code></pre>
</li>
</ol>
<h4>Task 2: Run the application</h4>
<ol class="task-list" data-group="2">
<li class="task-list-item" data-line-start="76" data-line-end="78">
<div class="task-step-checkbox" data-foo="116" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="76" data-line-end="77"> In the <strong>Website - Microsoft Visual Studio</strong> window, on the <strong>File</strong> menu, click <strong>Save All</strong>.</p>
</li>
<li class="task-list-item" data-line-start="78" data-line-end="83">
<div class="task-step-checkbox" data-foo="121" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="78" data-line-end="79"> In Solution Explorer, right-click <strong>Server</strong>, point to <strong>Debug</strong>, and click <strong>Start Without Debugging</strong>.</p>
<div class="alert alert-info" role="alert">
<p class="has-line-data" data-line-start="80" data-line-end="81"><strong>Note</strong>: The browser displays a list of departments in JSON format.</p>
</div>
</li>
<li class="task-list-item" data-line-start="83" data-line-end="85">
<div class="task-step-checkbox" data-foo="131" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="83" data-line-end="84"> In Microsoft Edge, click <strong>Close</strong>.</p>
</li>
</ol>
<h4>Task 3: Add a controller and an action that gets a parameter</h4>
<ol class="task-list" data-group="3">
<li class="task-list-item" data-line-start="87" data-line-end="89">
<div class="task-step-checkbox" data-foo="141" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="87" data-line-end="88"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Server</strong>, right-click <strong>Controllers</strong>, point to <strong>Add</strong>, and then click <strong>Controller...</strong>.</p>
</li>
<li class="task-list-item" data-line-start="89" data-line-end="91">
<div class="task-step-checkbox" data-foo="146" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="89" data-line-end="90"> In the <strong>Add New Scaffolded Item</strong> dialog box, choose <strong>API</strong> from the left-hand navigation, click <strong>API Controller - Empty</strong>, and then click <strong>Add</strong>.</p>
</li>
<li class="task-list-item" data-line-start="91" data-line-end="93">
<div class="task-step-checkbox" data-foo="151" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="91" data-line-end="92"> In the <strong>Add New Item - Server</strong> dialog box, in the <strong>Name:</strong> textbox, type <strong><a href="urn:gd:lg:a:send-vm-keys" class="paste-action-link action-link" title="Paste text into VM" data-str="MeetingController"><code>MeetingController</code></a></strong>, and then click <strong>Add</strong>.</p>
</li>
<li class="task-list-item" data-line-start="93" data-line-end="97">
<div class="task-step-checkbox" data-foo="156" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="93" data-line-end="94"> In the <strong>MeetingController.cs</strong> code window, locate the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="using Microsoft.AspNetCore.Mvc;"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="95" data-line-end="97"><span class="hljs-keyword">using</span> Microsoft.AspNetCore.Mvc;
</code></pre>
</li>
<li class="task-list-item" data-line-start="97" data-line-end="102">
<div class="task-step-checkbox" data-foo="162" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="97" data-line-end="98"> Ensure that the cursor is at the end of the <strong>Microsoft.AspNetCore.Mvc</strong> namespace, press Enter, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="using Website.Models;"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="99" data-line-end="101"><span class="hljs-keyword">using</span> Website.Models;
</code></pre>
</li>
<li class="task-list-item" data-line-start="102" data-line-end="111">
<div class="task-step-checkbox" data-foo="168" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="102" data-line-end="103"> In the <strong>MeetingController.cs</strong> code window, place the cursor after the second <strong>{</strong> (opening brace) sign, press Enter, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="private SchoolContext _context;

public MeetingController(SchoolContext context)
{
    _context = context;
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="104" data-line-end="111"><span class="hljs-keyword">private</span> SchoolContext _context;

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MeetingController</span>(<span class="hljs-params">SchoolContext context</span>)</span>
{
    _context = context;
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="111" data-line-end="127">
<div class="task-step-checkbox" data-foo="174" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="111" data-line-end="112"> Ensure that the cursor is at the end of the <strong>MeetingController</strong> constructor code block, press Enter twice, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="[Route(&quot;{id:int}&quot;)]
public ActionResult&lt;Meeting&gt; GetById(int id)
{
var order = _context.Meetings.FirstOrDefault(p =&gt; p.Id == id);
if (order == null)
{
  return NotFound();
}

return order;
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="114" data-line-end="126">[<span class="hljs-meta">Route(<span class="hljs-meta-string">"{id:int}"</span>)</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> ActionResult&lt;Meeting&gt; <span class="hljs-title">GetById</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> id</span>)</span>
{
<span class="hljs-keyword">var</span> order = _context.Meetings.FirstOrDefault(p =&gt; p.Id == id);
<span class="hljs-keyword">if</span> (order == <span class="hljs-literal">null</span>)
{
  <span class="hljs-keyword">return</span> NotFound();
}

<span class="hljs-keyword">return</span> order;
}
</code></pre>
</li>
</ol>
<h4>Task 4: Run the application</h4>
<ol class="task-list" data-group="4">
<li class="task-list-item" data-line-start="129" data-line-end="131">
<div class="task-step-checkbox" data-foo="185" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="129" data-line-end="130"> In the <strong>Website - Microsoft Visual Studio</strong> window, on the <strong>File</strong> menu, click <strong>Save All</strong>.</p>
</li>
<li class="task-list-item" data-line-start="131" data-line-end="133">
<div class="task-step-checkbox" data-foo="190" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="131" data-line-end="132"> In the <strong>Website - Microsoft Visual Studio</strong> window, right-click on the <strong>Server project</strong>, point to <strong>Debug</strong>, then click <strong>Start Without Debugging</strong>.</p>
</li>
<li class="task-list-item" data-line-start="133" data-line-end="138">
<div class="task-step-checkbox" data-foo="195" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="133" data-line-end="134"> In <strong>Microsoft Edge</strong>, in the address bar, type <strong><a href="urn:gd:lg:a:send-vm-keys" class="paste-action-link action-link" title="Paste text into VM" data-str="http://localhost:54517/api/Meeting/1"><code>http://localhost:54517/api/Meeting/1</code></a></strong>, and then press Enter.</p>
<div class="alert alert-info" role="alert">
<p class="has-line-data" data-line-start="135" data-line-end="136"><strong>Note</strong>: The browser displays an order with id=1 in the JSON format.</p>
</div>
</li>
<li class="task-list-item" data-line-start="138" data-line-end="140">
<div class="task-step-checkbox" data-foo="205" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="138" data-line-end="139"> In Microsoft Edge, click <strong>Close</strong>.</p>
</li>
</ol>
<h4>Task 5: Add a Post action to a Web API application</h4>
<ol class="task-list" data-group="5">
<li class="task-list-item" data-line-start="142" data-line-end="144">
<div class="task-step-checkbox" data-foo="215" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="142" data-line-end="143"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Server</strong>, expand <strong>Controllers</strong>, and then click <strong>MeetingController</strong>.</p>
</li>
<li class="task-list-item" data-line-start="144" data-line-end="152">
<div class="task-step-checkbox" data-foo="220" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="144" data-line-end="145"> In the <strong>MeetingController.cs</strong> code window, ensure that the cursor is at the end of the <strong>GetById</strong> action code block, press Enter, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="[HttpPost]
public ActionResult&lt;Meeting&gt; Create(Meeting meeting)
{
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="147" data-line-end="152">[<span class="hljs-meta">HttpPost</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> ActionResult&lt;Meeting&gt; <span class="hljs-title">Create</span>(<span class="hljs-params">Meeting meeting</span>)</span>
{
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="152" data-line-end="159">
<div class="task-step-checkbox" data-foo="226" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="152" data-line-end="153"> In the <strong>Create</strong> action code block, type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="_context.Add(meeting);
_context.SaveChanges();
return CreatedAtAction(nameof(GetById), new { id = meeting.Id }, meeting);"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="155" data-line-end="159">_context.Add(meeting);
_context.SaveChanges();
<span class="hljs-keyword">return</span> CreatedAtAction(<span class="hljs-keyword">nameof</span>(GetById), <span class="hljs-keyword">new</span> { id = meeting.Id }, meeting);
</code></pre>
</li>
<li class="task-list-item" data-line-start="159" data-line-end="161">
<div class="task-step-checkbox" data-foo="232" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="159" data-line-end="160"> In the <strong>Website - Microsoft Visual Studio</strong> window, on the <strong>File</strong> menu, click <strong>Save All</strong>.</p>
</li>
</ol>
<div class="alert alert-success" role="alert">
<p class="has-line-data" data-line-start="162" data-line-end="163"><strong>Results</strong>: In this exercise, you added controllers and actions to a Web API application, and called them by using Microsoft Edge.</p>
</div>
<h3>Exercise 2: Calling the Schools Web API by using Server-Side Code</h3>
<div class="alert alert-secondary" role="alert">
<p class="has-line-data" data-line-start="168" data-line-end="169"><strong>Scenario</strong></p>
<p class="has-line-data" data-line-start="170" data-line-end="171">In 
this exercise, you will call the Web API you developed in the previous 
exercise by using the HttpClient class. To do this, you will first 
register the IHttpClientFactory service in the Program.cs file. You will
 then create an MVC controller and use the HttpClient class to call a 
Get action in the Web API. After that, you will create another MVC 
controller and use the HttpClient class to call a Post action in the Web
 API. Finally, you will add an action to the MVC controller in which you
 will use the HttpClient class to call a Get action in the Web API that 
gets a parameter.</p>
<p class="has-line-data" data-line-start="172" data-line-end="173">The main tasks for this exercise are as follows:</p>
<ul>
<li class="has-line-data" data-line-start="174" data-line-end="175">Calling a Web API Get method</li>
<li class="has-line-data" data-line-start="175" data-line-end="176">Run the application</li>
<li class="has-line-data" data-line-start="176" data-line-end="177">Calling a Web API Post method</li>
<li class="has-line-data" data-line-start="177" data-line-end="178">Calling a Web API Get method that gets a parameter</li>
<li class="has-line-data" data-line-start="178" data-line-end="179">Run the application</li>
</ul>
</div>
<h4>Task 1: Calling a Web API Get method</h4>
<ol class="task-list" data-group="6">
<li class="task-list-item" data-line-start="183" data-line-end="185">
<div class="task-step-checkbox" data-foo="288" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="183" data-line-end="184"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Client</strong>, click <strong>Program.cs</strong>.</p>
</li>
<li class="task-list-item" data-line-start="185" data-line-end="190">
<div class="task-step-checkbox" data-foo="293" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="185" data-line-end="186"> In the <strong>Program.cs</strong> code window, locate the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="builder.Services.AddControllersWithViews();"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="187" data-line-end="189">builder.Services.AddControllersWithViews();
</code></pre>
</li>
<li class="task-list-item" data-line-start="190" data-line-end="195">
<div class="task-step-checkbox" data-foo="299" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="190" data-line-end="191"> Place the cursor at the end of the located code, press Enter, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="builder.Services.AddHttpClient();"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="192" data-line-end="194">builder.Services.AddHttpClient();
</code></pre>
</li>
<li class="task-list-item" data-line-start="195" data-line-end="197">
<div class="task-step-checkbox" data-foo="305" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="195" data-line-end="196"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Client</strong>, right-click <strong>Controllers</strong>, point to <strong>Add</strong>, and then click <strong>Controller...</strong>.</p>
</li>
<li class="task-list-item" data-line-start="197" data-line-end="199">
<div class="task-step-checkbox" data-foo="310" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="197" data-line-end="198"> In the <strong>Add New Scaffolded Item</strong> dialog box, choose <strong>API</strong> from the left-hand navigation, click <strong>MVC Controller - Empty</strong>, and then click <strong>Add</strong>.</p>
</li>
<li class="task-list-item" data-line-start="199" data-line-end="201">
<div class="task-step-checkbox" data-foo="315" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="199" data-line-end="200"> In the <strong>Add New Item - Client</strong> dialog box, in the <strong>Name:</strong> textbox, type <strong>DepartmentController</strong>, and then click <strong>Add</strong>.</p>
</li>
<li class="task-list-item" data-line-start="201" data-line-end="206">
<div class="task-step-checkbox" data-foo="320" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="201" data-line-end="202"> In the <strong>DepartmentController.cs</strong> code window, locate the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="using Microsoft.AspNetCore.Mvc;"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="204" data-line-end="206"><span class="hljs-keyword">using</span> Microsoft.AspNetCore.Mvc;
</code></pre>
</li>
<li class="task-list-item" data-line-start="206" data-line-end="211">
<div class="task-step-checkbox" data-foo="326" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="206" data-line-end="207"> Ensure that the cursor is at the end of the <strong>Microsoft.AspNetCore.Mvc</strong> namespace, press Enter, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="using Website.Models;"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="209" data-line-end="211"><span class="hljs-keyword">using</span> Website.Models;
</code></pre>
</li>
<li class="task-list-item" data-line-start="211" data-line-end="220">
<div class="task-step-checkbox" data-foo="332" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="211" data-line-end="212"> In the <strong>DepartmentController.cs</strong> code window, select the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="public IActionResult Index()
{
    return View();
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="214" data-line-end="219"><span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">Index</span>(<span class="hljs-params"></span>)</span>
{
    <span class="hljs-keyword">return</span> View();
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="220" data-line-end="230">
<div class="task-step-checkbox" data-foo="338" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="220" data-line-end="221"> Replace the selected code with the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="private IHttpClientFactory _httpClientFactory;

public DepartmentController(IHttpClientFactory httpClientFactory)
{
        _httpClientFactory = httpClientFactory;
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="223" data-line-end="230"><span class="hljs-keyword">private</span> IHttpClientFactory _httpClientFactory;

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DepartmentController</span>(<span class="hljs-params">IHttpClientFactory httpClientFactory</span>)</span>
{
        _httpClientFactory = httpClientFactory;
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="230" data-line-end="237">
<div class="task-step-checkbox" data-foo="344" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="230" data-line-end="231"> Ensure that the cursor is at the end of the <strong>DepartmentController</strong> constructor code block, press Enter twice, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="public async Task&lt;IActionResult&gt; Index()
{
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="233" data-line-end="237"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IActionResult&gt; <span class="hljs-title">Index</span>(<span class="hljs-params"></span>)</span>
{
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="237" data-line-end="253">
<div class="task-step-checkbox" data-foo="350" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="237" data-line-end="238"> In the <strong>Index</strong> action code block, type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="HttpClient httpClient = _httpClientFactory.CreateClient();
httpClient.BaseAddress = new Uri(&quot;http://localhost:54517&quot;);
HttpResponseMessage response = await httpClient.GetAsync(&quot;api/Department&quot;);
if (response.IsSuccessStatusCode)
{
    IEnumerable&lt;Department&gt; departments = await response.Content.ReadAsAsync&lt;IEnumerable&lt;Department&gt;&gt;();
    return View(departments);
}
else
{
    return View(&quot;Error&quot;);
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="240" data-line-end="253">HttpClient httpClient = _httpClientFactory.CreateClient();
httpClient.BaseAddress = <span class="hljs-keyword">new</span> Uri(<span class="hljs-string">"http://localhost:54517"</span>);
HttpResponseMessage response = <span class="hljs-keyword">await</span> httpClient.GetAsync(<span class="hljs-string">"api/Department"</span>);
<span class="hljs-keyword">if</span> (response.IsSuccessStatusCode)
{
    IEnumerable&lt;Department&gt; departments = <span class="hljs-keyword">await</span> response.Content.ReadAsAsync&lt;IEnumerable&lt;Department&gt;&gt;();
    <span class="hljs-keyword">return</span> View(departments);
}
<span class="hljs-keyword">else</span>
{
    <span class="hljs-keyword">return</span> View(<span class="hljs-string">"Error"</span>);
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="253" data-line-end="258">
<div class="task-step-checkbox" data-foo="356" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="253" data-line-end="254"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Client</strong>, expand <strong>Views</strong>, expand <strong>Department</strong>, and then click <strong>Index.cshtml</strong>.</p>
<div class="alert alert-info" role="alert">
<p class="has-line-data" data-line-start="255" data-line-end="256"><strong>Note</strong>: Examine the file content.</p>
</div>
</li>
</ol>
<h4>Task 2: Run the application</h4>
<ol class="task-list" data-group="7">
<li class="task-list-item" data-line-start="260" data-line-end="262">
<div class="task-step-checkbox" data-foo="371" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="260" data-line-end="261"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Server</strong>, under <strong>Properties</strong>, click <strong>launchSettings.json</strong>.</p>
</li>
<li class="task-list-item" data-line-start="262" data-line-end="276">
<div class="task-step-checkbox" data-foo="376" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="262" data-line-end="263"> In the <strong>launchSettings.json</strong> code window, select the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="&quot;profiles&quot;: {
    &quot;IIS Express&quot;: {
        &quot;commandName&quot;: &quot;IISExpress&quot;,
        &quot;launchBrowser&quot;: true,
        &quot;launchUrl&quot;: &quot;api/Department&quot;,
        &quot;environmentVariables&quot;: {
        &quot;ASPNETCORE_ENVIRONMENT&quot;: &quot;Development&quot;
    }
},"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="265" data-line-end="275"><span class="hljs-string">"profiles"</span>: {
    <span class="hljs-string">"IIS Express"</span>: {
        <span class="hljs-string">"commandName"</span>: <span class="hljs-string">"IISExpress"</span>,
        <span class="hljs-string">"launchBrowser"</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-string">"launchUrl"</span>: <span class="hljs-string">"api/Department"</span>,
        <span class="hljs-string">"environmentVariables"</span>: {
        <span class="hljs-string">"ASPNETCORE_ENVIRONMENT"</span>: <span class="hljs-string">"Development"</span>
    }
},
</code></pre>
</li>
<li class="task-list-item" data-line-start="276" data-line-end="289">
<div class="task-step-checkbox" data-foo="382" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="276" data-line-end="277"> Replace the selected code with the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="&quot;profiles&quot;: {
  &quot;IIS Express&quot;: {
  &quot;commandName&quot;: &quot;IISExpress&quot;,
  &quot;launchBrowser&quot;: false,
  &quot;environmentVariables&quot;: {
      &quot;ASPNETCORE_ENVIRONMENT&quot;: &quot;Development&quot;
  }
},"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="279" data-line-end="288"><span class="hljs-string">"profiles"</span>: {
  <span class="hljs-string">"IIS Express"</span>: {
  <span class="hljs-string">"commandName"</span>: <span class="hljs-string">"IISExpress"</span>,
  <span class="hljs-string">"launchBrowser"</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-string">"environmentVariables"</span>: {
      <span class="hljs-string">"ASPNETCORE_ENVIRONMENT"</span>: <span class="hljs-string">"Development"</span>
  }
},
</code></pre>
</li>
<li class="task-list-item" data-line-start="289" data-line-end="291">
<div class="task-step-checkbox" data-foo="388" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="289" data-line-end="290"> In the <strong>Website - Microsoft Visual Studio</strong> window, on the <strong>File</strong> menu, click <strong>Save All</strong>.</p>
</li>
<li class="task-list-item" data-line-start="291" data-line-end="293">
<div class="task-step-checkbox" data-foo="393" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="291" data-line-end="292"> In Solution Explorer, right-click <strong>Server</strong>, point to the <strong>Debug</strong> menu, and click <strong>Start Without Debugging</strong>.</p>
</li>
<li class="task-list-item" data-line-start="293" data-line-end="295">
<div class="task-step-checkbox" data-foo="398" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="293" data-line-end="294"> In Solution Explorer, verify that the <strong>Client</strong> project is set as the Startup Project (signified by being in bold text). If necessary, right-click on the <strong>Client</strong> project, and then click <strong>Set as StartUp Project</strong>.</p>
</li>
<li class="task-list-item" data-line-start="295" data-line-end="300">
<div class="task-step-checkbox" data-foo="403" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="295" data-line-end="296"> In the <strong>Website - Microsoft Visual Studio</strong> window, on the <strong>Debug</strong> menu, click <strong>Start Without Debugging</strong>.</p>
<div class="alert alert-info" role="alert">
<p class="has-line-data" data-line-start="297" data-line-end="298"><strong>Note</strong>: The browser displays the school home page with a list of academic departments.</p>
</div>
</li>
<li class="task-list-item" data-line-start="300" data-line-end="302">
<div class="task-step-checkbox" data-foo="413" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="300" data-line-end="301"> In Microsoft Edge, click <strong>Close</strong>.</p>
</li>
</ol>
<h4>Task 3: Calling a Web API Post method</h4>
<ol class="task-list" data-group="8">
<li class="task-list-item" data-line-start="304" data-line-end="306">
<div class="task-step-checkbox" data-foo="423" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="304" data-line-end="305"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Client</strong>, right-click <strong>Controllers</strong>, point to <strong>Add</strong>, and then click <strong>Controller...</strong>.</p>
</li>
<li class="task-list-item" data-line-start="306" data-line-end="308">
<div class="task-step-checkbox" data-foo="428" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="306" data-line-end="307"> In the <strong>Add New Scaffolded Item</strong> dialog box, click <strong>MVC Controller - Empty</strong>, and then click <strong>Add</strong>.</p>
</li>
<li class="task-list-item" data-line-start="308" data-line-end="310">
<div class="task-step-checkbox" data-foo="433" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="308" data-line-end="309"> In the <strong>Add New Item</strong> dialog box, in the <strong>Name:</strong> textbox, type <strong><a href="urn:gd:lg:a:send-vm-keys" class="paste-action-link action-link" title="Paste text into VM" data-str="MeetingController"><code>MeetingController</code></a></strong>, and then click <strong>Add</strong>.</p>
</li>
<li class="task-list-item" data-line-start="310" data-line-end="314">
<div class="task-step-checkbox" data-foo="438" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="310" data-line-end="311"> In the <strong>MeetingController.cs</strong> code window, locate the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="using Microsoft.AspNetCore.Mvc;"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="312" data-line-end="314"><span class="hljs-keyword">using</span> Microsoft.AspNetCore.Mvc;
</code></pre>
</li>
<li class="task-list-item" data-line-start="314" data-line-end="318">
<div class="task-step-checkbox" data-foo="444" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="314" data-line-end="315"> Ensure that the cursor is at the end of the <strong>Microsoft.AspNetCore.Mvc</strong> namespace, press Enter, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="using Website.Models;"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="316" data-line-end="318"><span class="hljs-keyword">using</span> Website.Models;
</code></pre>
</li>
<li class="task-list-item" data-line-start="318" data-line-end="327">
<div class="task-step-checkbox" data-foo="450" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="318" data-line-end="319"> In the <strong>MeetingController.cs</strong> code window, select the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="public IActionResult Index()
{
    return View();
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="321" data-line-end="326"><span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">Index</span>(<span class="hljs-params"></span>)</span>
{
    <span class="hljs-keyword">return</span> View();
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="327" data-line-end="337">
<div class="task-step-checkbox" data-foo="456" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="327" data-line-end="328"> Replace the selected code with the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="private IHttpClientFactory _httpClientFactory;

public MeetingController(IHttpClientFactory httpClientFactory)
{
        _httpClientFactory = httpClientFactory;
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="330" data-line-end="337"><span class="hljs-keyword">private</span> IHttpClientFactory _httpClientFactory;

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MeetingController</span>(<span class="hljs-params">IHttpClientFactory httpClientFactory</span>)</span>
{
        _httpClientFactory = httpClientFactory;
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="337" data-line-end="348">
<div class="task-step-checkbox" data-foo="462" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="337" data-line-end="338"> Ensure that the cursor is at the end of the <strong>MeetingController</strong> constructor code block, press Enter twice, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="[HttpGet]
public async Task&lt;IActionResult&gt; Create()
{
    await PopulateDepartmentsDropDownListAsync();
    return View();
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="340" data-line-end="347">[<span class="hljs-meta">HttpGet</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IActionResult&gt; <span class="hljs-title">Create</span>(<span class="hljs-params"></span>)</span>
{
    <span class="hljs-keyword">await</span> PopulateDepartmentsDropDownListAsync();
    <span class="hljs-keyword">return</span> View();
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="348" data-line-end="368">
<div class="task-step-checkbox" data-foo="468" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="348" data-line-end="349"> in the <strong>MeetingController.cs</strong> code window, ensure that the cursor is at the end of the <strong>Create</strong> action code block, press Enter twice, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="[HttpPost, ActionName(&quot;Create&quot;)]
public async Task&lt;IActionResult&gt; CreatePostAsync(Meeting meeting)
{
    HttpClient httpclient = _httpClientFactory.CreateClient();
    HttpResponseMessage response = await httpclient.PostAsJsonAsync(&quot;http://localhost:54517/api/Meeting&quot;, meeting);
    if (response.IsSuccessStatusCode)
    {
        Meeting resMeeting = await response.Content.ReadAsAsync&lt;Meeting&gt;();
        return RedirectToAction(&quot;ThankYou&quot;, new { id = resMeeting.Id});
    }
    else
    {
        return View(&quot;Error&quot;);
    }
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="351" data-line-end="367">[<span class="hljs-meta">HttpPost, ActionName(<span class="hljs-meta-string">"Create"</span>)</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IActionResult&gt; <span class="hljs-title">CreatePostAsync</span>(<span class="hljs-params">Meeting meeting</span>)</span>
{
    HttpClient httpclient = _httpClientFactory.CreateClient();
    HttpResponseMessage response = <span class="hljs-keyword">await</span> httpclient.PostAsJsonAsync(<span class="hljs-string">"http://localhost:54517/api/Meeting"</span>, meeting);
    <span class="hljs-keyword">if</span> (response.IsSuccessStatusCode)
    {
        Meeting resMeeting = <span class="hljs-keyword">await</span> response.Content.ReadAsAsync&lt;Meeting&gt;();
        <span class="hljs-keyword">return</span> RedirectToAction(<span class="hljs-string">"ThankYou"</span>, <span class="hljs-keyword">new</span> { id = resMeeting.Id});
    }
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-keyword">return</span> View(<span class="hljs-string">"Error"</span>);
    }
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="368" data-line-end="384">
<div class="task-step-checkbox" data-foo="474" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="368" data-line-end="369"> In the <strong>MeetingController.cs</strong> code window, ensure that the cursor is at the end of the <strong>CreatePostAsync</strong> action code block, press Enter twice, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="private async Task PopulateDepartmentsDropDownListAsync()
{
    HttpClient httpClient = _httpClientFactory.CreateClient();
    httpClient.BaseAddress = new Uri(&quot;http://localhost:54517&quot;);
    HttpResponseMessage response = await httpClient.GetAsync(&quot;api/Department&quot;);
    if (response.IsSuccessStatusCode)
    {
        IEnumerable&lt;Department&gt; departments = await response.Content.ReadAsAsync&lt;IEnumerable&lt;Department&gt;&gt;();
        ViewBag.Departments = new SelectList(departments, &quot;Id&quot;, &quot;Name&quot;);
    }
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="371" data-line-end="383"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">PopulateDepartmentsDropDownListAsync</span>(<span class="hljs-params"></span>)</span>
{
    HttpClient httpClient = _httpClientFactory.CreateClient();
    httpClient.BaseAddress = <span class="hljs-keyword">new</span> Uri(<span class="hljs-string">"http://localhost:54517"</span>);
    HttpResponseMessage response = <span class="hljs-keyword">await</span> httpClient.GetAsync(<span class="hljs-string">"api/Department"</span>);
    <span class="hljs-keyword">if</span> (response.IsSuccessStatusCode)
    {
        IEnumerable&lt;Department&gt; departments = <span class="hljs-keyword">await</span> response.Content.ReadAsAsync&lt;IEnumerable&lt;Department&gt;&gt;();
        ViewBag.Departments = <span class="hljs-keyword">new</span> SelectList(departments, <span class="hljs-string">"Id"</span>, <span class="hljs-string">"Name"</span>);
    }
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="384" data-line-end="389">
<div class="task-step-checkbox" data-foo="480" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="384" data-line-end="385"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Client</strong>, under <strong>Views</strong>, expand <strong>Meeting</strong>, and then click <strong>Create.cshtml</strong>.</p>
<div class="alert alert-info" role="alert">
<p class="has-line-data" data-line-start="386" data-line-end="387"><strong>Note</strong>: Examine the file content.</p>
</div>
</li>
</ol>
<h4>Task 4: Calling a Web API Get method with parameter</h4>
<ol class="task-list" data-group="9">
<li class="task-list-item" data-line-start="391" data-line-end="399">
<div class="task-step-checkbox" data-foo="495" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="391" data-line-end="392"> In the <strong>MeetingController.cs</strong> code window, ensure that the cursor is at the end of the <strong>PopulateDepartmentsDropDownListAsync</strong> action code block, press Enter twice, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="public async Task&lt;IActionResult&gt; ThankYou(int id)
{
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="394" data-line-end="398"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IActionResult&gt; <span class="hljs-title">ThankYou</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> id</span>)</span>
{
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="399" data-line-end="416">
<div class="task-step-checkbox" data-foo="501" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="399" data-line-end="400"> In the <strong>ThankYou</strong> action code block, type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="HttpClient httpClient = _httpClientFactory.CreateClient();
httpClient.BaseAddress = new Uri(&quot;http://localhost:54517&quot;);
HttpResponseMessage response = await httpClient.GetAsync(&quot;api/Meeting/&quot; + id);
if (response.IsSuccessStatusCode)
{
    Meeting meeting = await response.Content.ReadAsAsync&lt;Meeting&gt;();
    return View(meeting);
}
else
{
    return View(&quot;Error&quot;);
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="402" data-line-end="415">HttpClient httpClient = _httpClientFactory.CreateClient();
httpClient.BaseAddress = <span class="hljs-keyword">new</span> Uri(<span class="hljs-string">"http://localhost:54517"</span>);
HttpResponseMessage response = <span class="hljs-keyword">await</span> httpClient.GetAsync(<span class="hljs-string">"api/Meeting/"</span> + id);
<span class="hljs-keyword">if</span> (response.IsSuccessStatusCode)
{
    Meeting meeting = <span class="hljs-keyword">await</span> response.Content.ReadAsAsync&lt;Meeting&gt;();
    <span class="hljs-keyword">return</span> View(meeting);
}
<span class="hljs-keyword">else</span>
{
    <span class="hljs-keyword">return</span> View(<span class="hljs-string">"Error"</span>);
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="416" data-line-end="422">
<div class="task-step-checkbox" data-foo="507" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="416" data-line-end="417"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Client</strong>, under <strong>Views</strong>, under <strong>Meeting</strong>, click <strong>ThankYou.cshtml</strong>.</p>
<div class="alert alert-info" role="alert">
<p class="has-line-data" data-line-start="419" data-line-end="420"><strong>Note</strong>: Examine the file content.</p>
</div>
</li>
</ol>
<h4>Task 5: Run the application</h4>
<ol class="task-list" data-group="10">
<li class="task-list-item" data-line-start="424" data-line-end="426">
<div class="task-step-checkbox" data-foo="522" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="424" data-line-end="425"> In the <strong>Website - Microsoft Visual Studio</strong> window, on the <strong>File</strong> menu, click <strong>Save All</strong>.</p>
</li>
<li class="task-list-item" data-line-start="426" data-line-end="428">
<div class="task-step-checkbox" data-foo="527" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="426" data-line-end="427"> In Solution Explorer, right-click <strong>Server</strong>, point to the <strong>Debug</strong> menu, and click <strong>Start Without Debugging</strong>.</p>
</li>
<li class="task-list-item" data-line-start="428" data-line-end="430">
<div class="task-step-checkbox" data-foo="532" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="428" data-line-end="429"> In the <strong>Website - Microsoft Visual Studio</strong> window, on the <strong>Debug</strong> menu, click <strong>Start Without Debugging</strong> to start the Client application.</p>
</li>
<li class="task-list-item" data-line-start="430" data-line-end="432">
<div class="task-step-checkbox" data-foo="537" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="430" data-line-end="431"> In the <strong>Microsoft Edge</strong> window, in the menu bar, click <strong>Book Meeting</strong>.</p>
</li>
<li class="task-list-item" data-line-start="432" data-line-end="434">
<div class="task-step-checkbox" data-foo="542" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="432" data-line-end="433"> On <strong>Book Meeting</strong>, in the <strong>School department</strong> drop-down box, select any department.</p>
</li>
<li class="task-list-item" data-line-start="434" data-line-end="436">
<div class="task-step-checkbox" data-foo="547" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="434" data-line-end="435"> On <strong>Book Meeting</strong>, in the <strong>First name</strong> box, type your first name.</p>
</li>
<li class="task-list-item" data-line-start="436" data-line-end="438">
<div class="task-step-checkbox" data-foo="552" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="436" data-line-end="437"> On <strong>Book Meeting</strong>, in the <strong>Last name</strong> box, type your second name.</p>
</li>
<li class="task-list-item" data-line-start="438" data-line-end="440">
<div class="task-step-checkbox" data-foo="557" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="438" data-line-end="439"> On <strong>Book Meeting</strong>, in the <strong>Phone number</strong> box, type some random digits.</p>
</li>
<li class="task-list-item" data-line-start="440" data-line-end="442">
<div class="task-step-checkbox" data-foo="562" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="440" data-line-end="441"> On <strong>Book Meeting</strong>, in the <strong>Preferred meeting time</strong> box, use the picker to choose a date and time.</p>
</li>
<li class="task-list-item" data-line-start="442" data-line-end="447">
<div class="task-step-checkbox" data-foo="567" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="442" data-line-end="443"> On <strong>Book Meeting</strong>, in the <strong>Number of participants</strong> box, type a number between 1 and 20, and then click the <strong>Book Meeting</strong> button.</p>
<div class="alert alert-info" role="alert">
<p class="has-line-data" data-line-start="444" data-line-end="445"><strong>Note</strong>: The browser displays the <strong>ThankYou</strong> page with meeting details.</p>
</div>
</li>
<li class="task-list-item" data-line-start="447" data-line-end="449">
<div class="task-step-checkbox" data-foo="577" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="447" data-line-end="448"> In Microsoft Edge, click <strong>Close</strong>.</p>
</li>
</ol>
<div class="alert alert-success" role="alert">
<p class="has-line-data" data-line-start="450" data-line-end="451"><strong>Results</strong>: In this exercise, you called a Web API by using the HttpClient class.</p>
</div>
<h3>Exercise 3: Calling a Web API by Using jQuery</h3>
<div class="alert alert-secondary" role="alert">
<p class="has-line-data" data-line-start="456" data-line-end="457"><strong>Scenario</strong></p>
<p class="has-line-data" data-line-start="458" data-line-end="459">In 
this exercise, you will call a Web API by using jQuery. You will first 
create an MVC controller and use jQuery to call a Get action in the Web 
API. After that, you will create another MVC controller and use jQuery 
to call a Post action in the Web API.</p>
<p class="has-line-data" data-line-start="460" data-line-end="461">The main tasks for this exercise are as follows:</p>
<ul>
<li class="has-line-data" data-line-start="462" data-line-end="463">Calling a Web API Get method by using jQuery</li>
<li class="has-line-data" data-line-start="463" data-line-end="464">Run the application</li>
<li class="has-line-data" data-line-start="464" data-line-end="465">Calling a Web API Get method by using HttpClient</li>
<li class="has-line-data" data-line-start="465" data-line-end="466">Calling a Web API Post method by using jQuery</li>
<li class="has-line-data" data-line-start="466" data-line-end="467">Run the application</li>
</ul>
</div>
<h4>Task 1: Calling a Web API Get method by using jQuery</h4>
<ol class="task-list" data-group="11">
<li class="task-list-item" data-line-start="471" data-line-end="473">
<div class="task-step-checkbox" data-foo="633" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="471" data-line-end="472"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Client</strong>, expand <strong>wwwroot</strong>, right-click <strong>js</strong>, point to <strong>Add</strong>, and then click <strong>New Item...</strong>.</p>
</li>
<li class="task-list-item" data-line-start="473" data-line-end="475">
<div class="task-step-checkbox" data-foo="638" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="473" data-line-end="474"> In the <strong>Add New Item - Client</strong> dialog box, in the templates pane, find and click <strong>JavaScript File</strong>.</p>
</li>
<li class="task-list-item" data-line-start="475" data-line-end="477">
<div class="task-step-checkbox" data-foo="643" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="475" data-line-end="476"> In the <strong>Add New Item -- Client</strong> dialog box, in the <strong>Name:</strong> box, type <strong><a href="urn:gd:lg:a:send-vm-keys" class="paste-action-link action-link" title="Paste text into VM" data-str="get-vacancy"><code>get-vacancy</code></a></strong>, and then click <strong>Add</strong>.</p>
</li>
<li class="task-list-item" data-line-start="477" data-line-end="493">
<div class="task-step-checkbox" data-foo="648" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="477" data-line-end="478"> In the <strong>get-vacancy.js</strong> code window, type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">javascript</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="$(function () {
    $.ajax({
        method: &quot;GET&quot;,
        url: &quot;http://localhost:54517/api/Vacancy&quot;,
        contentType: &quot;application/json; charset=utf-8&quot;,
        dataType: &quot;json&quot;
        }).done(function (data) {
        }).fail(function () {
            alert('An error has occurred');
    });
});"></i>
        </div>
     </div><code class="has-line-data language-javascript hljs" data-line-start="480" data-line-end="492">$(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    $.ajax({
        <span class="hljs-attr">method</span>: <span class="hljs-string">"GET"</span>,
        <span class="hljs-attr">url</span>: <span class="hljs-string">"http://localhost:54517/api/Vacancy"</span>,
        <span class="hljs-attr">contentType</span>: <span class="hljs-string">"application/json; charset=utf-8"</span>,
        <span class="hljs-attr">dataType</span>: <span class="hljs-string">"json"</span>
        }).done(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
        }).fail(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            alert(<span class="hljs-string">'An error has occurred'</span>);
    });
});
</code></pre>
</li>
<li class="task-list-item" data-line-start="493" data-line-end="499">
<div class="task-step-checkbox" data-foo="654" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="493" data-line-end="494"> In the <strong>get-vacancy.js</strong> code window, locate the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">javascript</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="}).done(function (data) {"></i>
        </div>
     </div><code class="has-line-data language-javascript hljs" data-line-start="496" data-line-end="498">}).done(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
</code></pre>
</li>
<li class="task-list-item" data-line-start="499" data-line-end="522">
<div class="task-step-checkbox" data-foo="660" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="499" data-line-end="500"> Ensure that the cursor is after the <strong>{</strong> (opening brace) sign, press Enter, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">javascript</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="$.each(data, function (index, item) {
    var html = `&lt;div class=&quot;photo-index-card-data&quot;&gt;
                        &lt;div class=&quot;image-wrapper&quot;&gt;
                            &lt;img class=&quot;photo-display-img&quot; src=&quot;/images/corridor.jpg&quot; /&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;display-picture-data&quot;&gt;
                            &lt;h6 class=&quot;display-title&quot;&gt;Job title:&lt;/h6&gt;
                            &lt;h6&gt;${item.jobTitle}&lt;/h6&gt;
                            &lt;h6 class=&quot;display-title&quot;&gt;Hourly payment:&lt;/h6&gt;
                            &lt;h6&gt;$${item.pricePerHour}&lt;/h6&gt;
                            &lt;h6 class=&quot;display-title&quot;&gt;Job description:&lt;/h6&gt;
                            &lt;h6&gt;${item.jobDescription}&lt;/h6&gt;
                        &lt;/div&gt;
                &lt;/div&gt;`;
        $('.container').append(html);
});
$('.photo-display-img').attr('src', '/images/corridor.jpg');"></i>
        </div>
     </div><code class="has-line-data language-javascript hljs" data-line-start="503" data-line-end="521">$.each(data, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">index, item</span>) </span>{
    <span class="hljs-keyword">var</span> html = <span class="hljs-string">`&lt;div class="photo-index-card-data"&gt;
                        &lt;div class="image-wrapper"&gt;
                            &lt;img class="photo-display-img" src="/images/corridor.jpg" /&gt;
                        &lt;/div&gt;
                        &lt;div class="display-picture-data"&gt;
                            &lt;h6 class="display-title"&gt;Job title:&lt;/h6&gt;
                            &lt;h6&gt;<span class="hljs-subst">${item.jobTitle}</span>&lt;/h6&gt;
                            &lt;h6 class="display-title"&gt;Hourly payment:&lt;/h6&gt;
                            &lt;h6&gt;$<span class="hljs-subst">${item.pricePerHour}</span>&lt;/h6&gt;
                            &lt;h6 class="display-title"&gt;Job description:&lt;/h6&gt;
                            &lt;h6&gt;<span class="hljs-subst">${item.jobDescription}</span>&lt;/h6&gt;
                        &lt;/div&gt;
                &lt;/div&gt;`</span>;
        $(<span class="hljs-string">'.container'</span>).append(html);
});
$(<span class="hljs-string">'.photo-display-img'</span>).attr(<span class="hljs-string">'src'</span>, <span class="hljs-string">'/images/corridor.jpg'</span>);
</code></pre>
</li>
<li class="task-list-item" data-line-start="522" data-line-end="524">
<div class="task-step-checkbox" data-foo="666" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="522" data-line-end="523"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Client</strong>, under <strong>Views</strong>, expand <strong>Vacancy</strong>, and then click <strong>Index.cshtml</strong>.</p>
</li>
<li class="task-list-item" data-line-start="524" data-line-end="529">
<div class="task-step-checkbox" data-foo="671" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="524" data-line-end="525"> In the <strong>Index.cshtml</strong> code window, locate the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">html</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="&lt;div class=&quot;container&quot;&gt;
&lt;/div&gt;"></i>
        </div>
     </div><code class="has-line-data language-html hljs xml" data-line-start="526" data-line-end="529"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
</li>
<li class="task-list-item" data-line-start="529" data-line-end="536">
<div class="task-step-checkbox" data-foo="677" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="529" data-line-end="530"> Place the cursor at the end of the located code, press Enter twice, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">html</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="@section Scripts {
    &lt;script src=&quot;~/js/get-vacancy.js&quot;&gt;&lt;/script&gt;
}"></i>
        </div>
     </div><code class="has-line-data language-html hljs xml" data-line-start="531" data-line-end="535">@section Scripts {
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"~/js/get-vacancy.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
}
</code></pre>
</li>
</ol>
<h4>Task 2: Run the application</h4>
<ol class="task-list" data-group="12">
<li class="task-list-item" data-line-start="538" data-line-end="540">
<div class="task-step-checkbox" data-foo="688" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="538" data-line-end="539"> In the <strong>Website - Microsoft Visual Studio</strong> window, on the <strong>File</strong> menu, click <strong>Save All</strong>.</p>
</li>
<li class="task-list-item" data-line-start="540" data-line-end="542">
<div class="task-step-checkbox" data-foo="693" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="540" data-line-end="541"> In Solution Explorer, right-click <strong>Server</strong>, point to the <strong>Debug</strong> menu, and click <strong>Start Without Debugging</strong>.</p>
</li>
<li class="task-list-item" data-line-start="542" data-line-end="547">
<div class="task-step-checkbox" data-foo="698" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="542" data-line-end="543"> In the <strong>Website - Microsoft Visual Studio</strong> window, on the <strong>Debug</strong> menu, click <strong>Start Without Debugging</strong> to start the Client application.</p>
<div class="alert alert-info" role="alert">
<p class="has-line-data" data-line-start="544" data-line-end="545"><strong>Note</strong>: The browser displays the school home page with a list of academic departments.</p>
</div>
</li>
<li class="task-list-item" data-line-start="547" data-line-end="553">
<div class="task-step-checkbox" data-foo="708" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="547" data-line-end="548"> In the <strong>Microsoft Edge</strong> window, in the menu bar, click <strong>We Are Hiring</strong>.</p>
<div class="alert alert-info" role="alert">
<p class="has-line-data" data-line-start="550" data-line-end="551"><strong>Note</strong>: The browser displays the current job vacancies for the school.</p>
</div>
</li>
<li class="task-list-item" data-line-start="553" data-line-end="555">
<div class="task-step-checkbox" data-foo="718" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="553" data-line-end="554"> In Microsoft Edge, click <strong>Close</strong>.</p>
</li>
</ol>
<h4>Task 3: Calling a Web API Get method by using HttpClient</h4>
<ol class="task-list" data-group="13">
<li class="task-list-item" data-line-start="557" data-line-end="559">
<div class="task-step-checkbox" data-foo="728" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="557" data-line-end="558"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Client</strong>, right-click <strong>Controllers</strong>, point to <strong>Add</strong>, and then click <strong>Controller...</strong>.</p>
</li>
<li class="task-list-item" data-line-start="559" data-line-end="561">
<div class="task-step-checkbox" data-foo="733" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="559" data-line-end="560"> In the <strong>Add New Scaffolded Item</strong> dialog box, click <strong>MVC Controller - Empty</strong>, and then click <strong>Add</strong>.</p>
</li>
<li class="task-list-item" data-line-start="561" data-line-end="563">
<div class="task-step-checkbox" data-foo="738" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="561" data-line-end="562"> In the <strong>Add New Item - Client</strong> dialog box, in the <strong>Name:</strong> textbox, type <strong><a href="urn:gd:lg:a:send-vm-keys" class="paste-action-link action-link" title="Paste text into VM" data-str="JobApplicationController"><code>JobApplicationController</code></a></strong>, and then click <strong>Add</strong>.</p>
</li>
<li class="task-list-item" data-line-start="563" data-line-end="569">
<div class="task-step-checkbox" data-foo="743" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="563" data-line-end="564"> In the <strong>JobApplicationController.cs</strong> code window, locate the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="using Microsoft.AspNetCore.Mvc;"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="566" data-line-end="568"><span class="hljs-keyword">using</span> Microsoft.AspNetCore.Mvc;
</code></pre>
</li>
<li class="task-list-item" data-line-start="569" data-line-end="574">
<div class="task-step-checkbox" data-foo="749" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="569" data-line-end="570"> Ensure that the cursor is at the end of the <strong>Microsoft.AspNetCore.Mvc</strong> namespace, press Enter, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="using Website.Models;"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="572" data-line-end="574"><span class="hljs-keyword">using</span> Website.Models;
</code></pre>
</li>
<li class="task-list-item" data-line-start="574" data-line-end="583">
<div class="task-step-checkbox" data-foo="755" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="574" data-line-end="575"> In the <strong>JobApplicationController.cs</strong> code window, select the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="public IActionResult Index()
{
    return View();
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="577" data-line-end="582"><span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">Index</span>(<span class="hljs-params"></span>)</span>
{
    <span class="hljs-keyword">return</span> View();
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="583" data-line-end="593">
<div class="task-step-checkbox" data-foo="761" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="583" data-line-end="584"> Replace the selected code with the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="private IHttpClientFactory _httpClientFactory;

public JobApplicationController(IHttpClientFactory httpClientFactory)
{
        _httpClientFactory = httpClientFactory;
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="586" data-line-end="593"><span class="hljs-keyword">private</span> IHttpClientFactory _httpClientFactory;

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">JobApplicationController</span>(<span class="hljs-params">IHttpClientFactory httpClientFactory</span>)</span>
{
        _httpClientFactory = httpClientFactory;
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="593" data-line-end="604">
<div class="task-step-checkbox" data-foo="767" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="593" data-line-end="595"> Ensure that the cursor is at the end of the <strong>JobApplicationController</strong> constructor code block, press Enter twice, and then type the following code:
`</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="[HttpGet]
public async Task&lt;IActionResult&gt; Create()
{
    await PopulateEmployeeRequirementsDropDownListAsync();
    return View();
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="596" data-line-end="603">[<span class="hljs-meta">HttpGet</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IActionResult&gt; <span class="hljs-title">Create</span>(<span class="hljs-params"></span>)</span>
{
    <span class="hljs-keyword">await</span> PopulateEmployeeRequirementsDropDownListAsync();
    <span class="hljs-keyword">return</span> View();
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="604" data-line-end="620">
<div class="task-step-checkbox" data-foo="773" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="604" data-line-end="605"> At the end of the <strong>Create</strong> action code block, press Enter, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="private async Task PopulateEmployeeRequirementsDropDownListAsync()
{
    HttpClient httpClient = _httpClientFactory.CreateClient();
    httpClient.BaseAddress = new Uri(&quot;http://localhost:54517&quot;);
    HttpResponseMessage response = await httpClient.GetAsync(&quot;api/Vacancy&quot;);
    if (response.IsSuccessStatusCode)
    {
        IEnumerable&lt;EmployeeRequirements&gt; employeeRequirements = await response.Content.ReadAsAsync&lt;IEnumerable&lt;EmployeeRequirements&gt;&gt;();
        ViewBag.EmployeeRequirements = new SelectList(employeeRequirements, &quot;Id&quot;, &quot;JobTitle&quot;);
    }
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="607" data-line-end="619"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">PopulateEmployeeRequirementsDropDownListAsync</span>(<span class="hljs-params"></span>)</span>
{
    HttpClient httpClient = _httpClientFactory.CreateClient();
    httpClient.BaseAddress = <span class="hljs-keyword">new</span> Uri(<span class="hljs-string">"http://localhost:54517"</span>);
    HttpResponseMessage response = <span class="hljs-keyword">await</span> httpClient.GetAsync(<span class="hljs-string">"api/Vacancy"</span>);
    <span class="hljs-keyword">if</span> (response.IsSuccessStatusCode)
    {
        IEnumerable&lt;EmployeeRequirements&gt; employeeRequirements = <span class="hljs-keyword">await</span> response.Content.ReadAsAsync&lt;IEnumerable&lt;EmployeeRequirements&gt;&gt;();
        ViewBag.EmployeeRequirements = <span class="hljs-keyword">new</span> SelectList(employeeRequirements, <span class="hljs-string">"Id"</span>, <span class="hljs-string">"JobTitle"</span>);
    }
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="620" data-line-end="625">
<div class="task-step-checkbox" data-foo="779" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="620" data-line-end="621"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Client</strong>, under <strong>Views</strong>, expand <strong>JobApplication</strong>, and then click <strong>Create.cshtml</strong>.</p>
<div class="alert alert-info" role="alert">
<p class="has-line-data" data-line-start="622" data-line-end="623"><strong>Note</strong>: Examine the file content.</p>
</div>
</li>
<li class="task-list-item" data-line-start="625" data-line-end="634">
<div class="task-step-checkbox" data-foo="789" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="625" data-line-end="626"> In the <strong>JobApplicationController.cs</strong> code window, ensure that the cursor is at the end of the <strong>PopulateEmployeeRequirementsDropDownListAsync</strong> action code block, press Enter, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">csharp</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="public IActionResult ThankYou()
{
    return View();
}"></i>
        </div>
     </div><code class="has-line-data language-csharp hljs" data-line-start="628" data-line-end="633"><span class="hljs-function"><span class="hljs-keyword">public</span> IActionResult <span class="hljs-title">ThankYou</span>(<span class="hljs-params"></span>)</span>
{
    <span class="hljs-keyword">return</span> View();
}
</code></pre>
</li>
<li class="task-list-item" data-line-start="634" data-line-end="640">
<div class="task-step-checkbox" data-foo="795" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="634" data-line-end="635"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Client</strong>, under <strong>Views</strong>, expand <strong>JobApplication</strong>, and then click <strong>ThankYou.cshtml</strong>.</p>
<div class="alert alert-info" role="alert">
<p class="has-line-data" data-line-start="637" data-line-end="638"><strong>Note</strong>: Examine the file content.</p>
</div>
</li>
</ol>
<h4>Task 4: Calling a Web API Post method by using jQuery</h4>
<ol class="task-list" data-group="14">
<li class="task-list-item" data-line-start="642" data-line-end="644">
<div class="task-step-checkbox" data-foo="810" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="642" data-line-end="643"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Client</strong>, under <strong>wwwroot</strong>, right-click <strong>js</strong>, point to <strong>Add</strong>, and then click <strong>New Item...</strong>.</p>
</li>
<li class="task-list-item" data-line-start="644" data-line-end="646">
<div class="task-step-checkbox" data-foo="815" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="644" data-line-end="645"> In the <strong>Add New Item - Client</strong> dialog box, in the templates pane, find and click <strong>JavaScript File</strong>.</p>
</li>
<li class="task-list-item" data-line-start="646" data-line-end="648">
<div class="task-step-checkbox" data-foo="820" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="646" data-line-end="647"> In the <strong>Add New Item - Client</strong> dialog box, in the <strong>Name:</strong> textbox, type <strong><a href="urn:gd:lg:a:send-vm-keys" class="paste-action-link action-link" title="Paste text into VM" data-str="post-vacancy"><code>post-vacancy</code></a></strong>, and then click <strong>Add</strong>.</p>
</li>
<li class="task-list-item" data-line-start="648" data-line-end="681">
<div class="task-step-checkbox" data-foo="825" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="648" data-line-end="649"> In the <strong>post-vacancy.js</strong> code window, type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">javascript</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="$(function() {
    $(&quot;#btn-post&quot;).click(function (e) {
        if ($('#submit-form').valid()) {
            var formData = {};
            $('#submit-form').serializeArray().map(function (item) {
                item.name = item.name[0].toLowerCase() + item.name.slice(1);
                if (formData[item.name]) {
                    if (formData[item.name] === &quot;string&quot;) {
                        formData[item.name] = [formData[item.name]];
                    }
                    formData[item.name].push(item.value);
                } else {
                    formData[item.name] = item.value;
                }
            });
            e.preventDefault();
            $.ajax({
                method: &quot;POST&quot;,
                url: &quot;http://localhost:54517/api/job&quot;,
                data: JSON.stringify(formData),
                contentType: &quot;application/json;charset=utf-8&quot;
            }).done(function () {
                location.href = 'http://localhost:54508/JobApplication/ThankYou';
            }).fail(function () {
                alert('An error has occurred');
        });
        }
    });
});"></i>
        </div>
     </div><code class="has-line-data language-javascript hljs" data-line-start="650" data-line-end="680">$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    $(<span class="hljs-string">"#btn-post"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> ($(<span class="hljs-string">'#submit-form'</span>).valid()) {
            <span class="hljs-keyword">var</span> formData = {};
            $(<span class="hljs-string">'#submit-form'</span>).serializeArray().map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{
                item.name = item.name[<span class="hljs-number">0</span>].toLowerCase() + item.name.slice(<span class="hljs-number">1</span>);
                <span class="hljs-keyword">if</span> (formData[item.name]) {
                    <span class="hljs-keyword">if</span> (formData[item.name] === <span class="hljs-string">"string"</span>) {
                        formData[item.name] = [formData[item.name]];
                    }
                    formData[item.name].push(item.value);
                } <span class="hljs-keyword">else</span> {
                    formData[item.name] = item.value;
                }
            });
            e.preventDefault();
            $.ajax({
                <span class="hljs-attr">method</span>: <span class="hljs-string">"POST"</span>,
                <span class="hljs-attr">url</span>: <span class="hljs-string">"http://localhost:54517/api/job"</span>,
                <span class="hljs-attr">data</span>: <span class="hljs-built_in">JSON</span>.stringify(formData),
                <span class="hljs-attr">contentType</span>: <span class="hljs-string">"application/json;charset=utf-8"</span>
            }).done(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                location.href = <span class="hljs-string">'http://localhost:54508/JobApplication/ThankYou'</span>;
            }).fail(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                alert(<span class="hljs-string">'An error has occurred'</span>);
        });
        }
    });
});
</code></pre>
</li>
<li class="task-list-item" data-line-start="681" data-line-end="683">
<div class="task-step-checkbox" data-foo="831" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="681" data-line-end="682"> In the <strong>Website - Microsoft Visual Studio</strong> window, in Solution Explorer, under <strong>Client</strong>, under <strong>Views</strong>, under <strong>JobApplication</strong>, click <strong>Create.cshtml</strong>.</p>
</li>
<li class="task-list-item" data-line-start="683" data-line-end="689">
<div class="task-step-checkbox" data-foo="836" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="683" data-line-end="684"> In the <strong>Create.cshtml</strong> code window, locate the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">html</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="        &lt;/form&gt;
    &lt;/div&gt;
&lt;/div&gt;"></i>
        </div>
     </div><code class="has-line-data language-html hljs xml" data-line-start="685" data-line-end="689">        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
</li>
<li class="task-list-item" data-line-start="689" data-line-end="698">
<div class="task-step-checkbox" data-foo="842" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="689" data-line-end="690"> Place the cursor at the end of the located code, press Enter twice, and then type the following code:</p>
<pre class="code-badge-pre"><div class="code-badge align-items-top">
        <div class="code-badge-language">html</div>
        <div title="Copy to clipboard">
            <i class="fa fa-copy code-badge-copy-icon" data-code="@section Scripts{
    &lt;script src=&quot;~/lib/jquery-validate/jquery.validate.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;~/js/post-vacancy.js&quot;&gt;&lt;/script&gt;
}"></i>
        </div>
     </div><code class="has-line-data language-html hljs xml" data-line-start="691" data-line-end="697">@section Scripts{
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"~/lib/jquery-validate/jquery.validate.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"~/js/post-vacancy.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
}
</code></pre>
</li>
</ol>
<h4>Task 5: Run the application</h4>
<ol class="task-list" data-group="15">
<li class="task-list-item" data-line-start="700" data-line-end="702">
<div class="task-step-checkbox" data-foo="853" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="700" data-line-end="701"> In the <strong>Website - Microsoft Visual Studio</strong> window, on the <strong>File</strong> menu, click <strong>Save All</strong>.</p>
</li>
<li class="task-list-item" data-line-start="702" data-line-end="704">
<div class="task-step-checkbox" data-foo="858" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="702" data-line-end="703"> In Solution Explorer, right-click <strong>Server</strong>, point to the <strong>Debug</strong> menu, and click <strong>Start Without Debugging</strong>.</p>
</li>
<li class="task-list-item" data-line-start="704" data-line-end="706">
<div class="task-step-checkbox" data-foo="863" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="704" data-line-end="705"> In the <strong>Website - Microsoft Visual Studio</strong> window, on the <strong>Debug</strong> menu, click <strong>Start Without Debugging</strong> to start the Client application.</p>
</li>
<li class="task-list-item" data-line-start="706" data-line-end="708">
<div class="task-step-checkbox" data-foo="868" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="706" data-line-end="707"> In the first <strong>Microsoft Edge</strong> window, in the menu bar, click <strong>Submit Job Application</strong>.</p>
</li>
<li class="task-list-item" data-line-start="708" data-line-end="710">
<div class="task-step-checkbox" data-foo="873" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="708" data-line-end="709"> On <strong>Submit Job Application</strong>, in the <strong>Job title</strong> box, select <strong>Deputy Headmaster</strong>.</p>
</li>
<li class="task-list-item" data-line-start="710" data-line-end="712">
<div class="task-step-checkbox" data-foo="878" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="710" data-line-end="711"> On <strong>Submit Job Application</strong>, in the <strong>First name</strong> box, type your first name.</p>
</li>
<li class="task-list-item" data-line-start="712" data-line-end="714">
<div class="task-step-checkbox" data-foo="883" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="712" data-line-end="713"> On <strong>Submit Job Application</strong>, in the <strong>Last name</strong> box, type your last name.</p>
</li>
<li class="task-list-item" data-line-start="714" data-line-end="716">
<div class="task-step-checkbox" data-foo="888" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="714" data-line-end="715"> On <strong>Submit Job Application</strong>, in the <strong>Phone number</strong> box, type some random digits.</p>
</li>
<li class="task-list-item" data-line-start="716" data-line-end="718">
<div class="task-step-checkbox" data-foo="893" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="716" data-line-end="717"> On <strong>Submit Job Application</strong>, in the <strong>Email</strong> box, type a plausible email address</p>
</li>
<li class="task-list-item" data-line-start="718" data-line-end="723">
<div class="task-step-checkbox" data-foo="898" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="718" data-line-end="719"> On <strong>Submit Job Application</strong>, in the <strong>Address</strong> box, type some random text, and then click <strong>Apply For a Job</strong>.</p>
<div class="alert alert-info" role="alert">
<p class="has-line-data" data-line-start="720" data-line-end="721"><strong>Note</strong>: The browser displays the <strong>ThankYou</strong> page.</p>
</div>
</li>
<li class="task-list-item" data-line-start="723" data-line-end="725">
<div class="task-step-checkbox" data-foo="908" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="723" data-line-end="724"> In Microsoft Edge, click <strong>Close</strong>.</p>
</li>
<li class="task-list-item" data-line-start="725" data-line-end="727">
<div class="task-step-checkbox" data-foo="913" tabindex="0" role="checkbox" aria-checked="false"></div><p class="has-line-data" data-line-start="725" data-line-end="726"> In the <strong>Website  - Microsoft Visual Studio</strong> window, on the <strong>File</strong> menu, click <strong>Exit</strong>.</p>
</li>
</ol>
<div class="alert alert-success" role="alert">
<p class="has-line-data" data-line-start="728" data-line-end="729"><strong>Results</strong>: In this exercise, you enabled users to see the wanted ads to find a new job, and enabled them to apply for a job.</p>
</div>
</main>
    <div class="d-flex flex-grow-0 container-fluid lab-guide-paging p-0 justify-content-between d-none p-1 border-top">
        <button class="btn btn-secondary rounded-0 d-none prev-page">&lt; Previous</button>
        <button class="btn btn-primary rounded-0 d-none next-page ml-auto">Next &gt;</button>
    </div>
</div>

<div class="modal" tabindex="-1" role="dialog" id="screenshot-modal">
    <div class="modal-dialog modal-lg" role="document" style="max-width: 1024px;">
        <div class="modal-content" style="min-height: calc(100vh - 60px);">
            <div class="modal-body" id="screenshot-background" style="background-position: center center; background-repeat: no-repeat; background-size: contain;">
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
        </div>
    </div>
</div>



    <script src="M55339A%20All%20Modules%20-%20go%20deploy_files/jquery.min.js"></script>
    <script src="M55339A%20All%20Modules%20-%20go%20deploy_files/bootstrap.bundle.min.js"></script>
    <script src="M55339A%20All%20Modules%20-%20go%20deploy_files/popover-help.js"></script>
    <script src="M55339A%20All%20Modules%20-%20go%20deploy_files/show-hide-password.js"></script>
    <script src="M55339A%20All%20Modules%20-%20go%20deploy_files/mvc-form-validation.js"></script>
    <script src="M55339A%20All%20Modules%20-%20go%20deploy_files/accessible-pagination.js"></script>
    <script src="M55339A%20All%20Modules%20-%20go%20deploy_files/modal-trap.js"></script>
    <script src="M55339A%20All%20Modules%20-%20go%20deploy_files/v3"></script>
    
    <script type="text/javascript" src="M55339A%20All%20Modules%20-%20go%20deploy_files/labGuidePopout.js"></script>



<iframe name="__privateStripeMetricsController8710" allowtransparency="true" scrolling="no" role="presentation" src="M55339A%20All%20Modules%20-%20go%20deploy_files/m-outer-93afeeb17bc37e711759584dbfc50d47.htm" aria-hidden="true" tabindex="-1" style="border: medium none !important; margin: 0px !important; padding: 0px !important; width: 1px !important; min-width: 100% !important; overflow: hidden !important; display: block !important; visibility: hidden !important; position: fixed !important; height: 1px !important; pointer-events: none !important; user-select: none !important;" frameborder="0"></iframe><div id="CodeBadgeTemplate" style="display:none">
    <div class="code-badge align-items-top">
        <div class="code-badge-language">{{language}}</div>
        <div title="Copy to clipboard">
            <i class="{{copyIconClass}} code-badge-copy-icon"></i>
        </div>
     </div>
</div></body></html>